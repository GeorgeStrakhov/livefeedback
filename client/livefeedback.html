<head>
  <title>LiveFeedBack.mobi - get live feedback from any audience</title>
</head>

<body>
  {{> app}}
</body>

<template name="app">
  {{#if urlPart}} <!-- if there the url is something glike http://livefeedback.mobi/streams/id-->
    {{> singleStream}}
  {{else}}
    {{#if currentUser}} <!-- currentUser is one of the default helpers in Meteor-->
      {{> myStreams}}
    {{else}}
      {{> welcome}}
    {{/if}}
  {{/if}}
</template>

<template name="welcome">
  welcome screen under construction...
  {{loginButtons}}
</template>

<template name="myStreams">
  <div>
    {{loginButtons}}
  </div>
  <div>
    <ul>
      {{#each allStreams}}
        <li>{{this.name}}</li>
      {{/each}}
    </ul>
  </div>
  <div>
    <button class="btn" id="createNewStream">create new</button>
    <div class="hide" id="newStreamCreate">
      <input type="text" id="newStreamName" placeholder="Your stream name!" />
      <button class="btn" id="createNewStreamBtn">ok</button>
    </div>
  </div>
</template>

<template name="singleStream">
  {{#if currentStream._id}} <!-- if such a stream exists -->
    {{#if currentUser}}
      {{#if myOwnStream}}
        {{> ownerView}}
      {{else}}
        {{> participantView}}
      {{/if}}
    {{else}}
      {{> signIn}}
    {{/if}}
  {{else}}
    {{> page404}}
  {{/if}}
</template>

<template name="page404">
  404, no such stream exists
</template>

<template name="signIn">
  under construction. here we display stream name & sign in
</template>

<template name="ownerView">
  stream management view under construction
</template>

<template name="participantView">
  {{#if currentStream.status "finished"}}
    {{> finishedStreamView}}
  {{/if}}
  {{#if currentStream.status "active"}}
    thumbs up and down view for the participant
  {{/if}}
</template>

<template name="finishedStreamView">
  finished stream ciew under coonstruction...
</template>
